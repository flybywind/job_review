package bestline

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestCase1(t *testing.T) {
	assert.Equal(t, []int{0, 2}, bestLine([][]int{{0, 0}, {1, 1}, {1, 0}, {2, 0}}))
}

func TestCase2(t *testing.T) {
	assert.Equal(t, []int{1, 3}, bestLine([][]int{{0, 0}, {1, 1}, {1, 0}, {2, 0}, {0, 2}, {2, 2}, {2, 1}, {3, -1}}))
}

func TestCase3(t *testing.T) {
	assert.Equal(t, []int{0, 2}, bestLine([][]int{{0, 0}, {1, 1}, {1, 0}, {2, 0}, {0, 2}, {2, 2}, {2, 1}, {3, -1}, {-1, 0}}))
}

func TestCase4(t *testing.T) {
	assert.Equal(t, []int{0, 1}, bestLine([][]int{{0, 0}, {1, 1}, {1, 0}, {2, 0}, {2, 2}}))
}

func TestCase5(t *testing.T) {
	assert.Equal(t, []int{4, 9}, bestLine([][]int{{-24272, -29606}, {-37644, -4251}, {2691, -22513}, {-14592, -33765}, {-21858, 28550}, {-22264, 41303}, {-6960, 12785}, {-39133, -41833}, {25151, -26643}, {-19416, 28550}, {-17420, 22270}, {-8793, 16457}, {-4303, -25680}, {-14405, 26607}, {-49083, -26336}, {22629, 20544}, {-23939, -25038}, {-40441, -26962}, {-29484, -30503}, {-32927, -18287}, {-13312, -22513}, {15026, 12965}, {-16361, -23282}, {7296, -15750}, {-11690, -21723}, {-34850, -25928}, {-14933, -16169}, {23459, -9358}, {-45719, -13202}, {-26868, 28550}, {4627, 16457}, {-7296, -27760}, {-32230, 8174}, {-28233, -8627}, {-26520, 28550}, {5515, -26001}, {-16766, 28550}, {21888, -3740}, {1251, 28550}, {15333, -26322}, {-27677, -19790}, {20311, 7075}, {-10751, 16457}, {-47762, -44638}, {20991, 24942}, {-19056, -11105}, {-26639, 28550}, {-19862, 16457}, {-27506, -4251}, {-20172, -5440}, {-33757, -24717}, {-9411, -17379}, {12493, 29906}, {0, -21755}, {-36885, -16192}, {-38195, -40088}, {-40079, 7667}, {-29294, -34032}, {-55968, 23947}, {-22724, -22513}, {20362, -11530}, {-11817, -23957}, {-33742, 5259}, {-10350, -4251}, {-11690, -22513}, {-20241, -22513}}))
}

func TestCase6(t *testing.T) {
	assert.Equal(t, []int{0, 6}, bestLine([][]int{{-13260, 8589}, {1350, 8721}, {-37222, -19547}, {-54293, -29302}, {-10489, -13241}, {-19382, 574}, {5561, 1033}, {-22508, -13241}, {-1542, 20695}, {9277, 2820}, {-32081, 16145}, {-50902, 23701}, {-8636, 19504}, {-17042, -28765}, {-27132, -24156}, {-48323, -4607}, {30279, 29922}}))
}
func Benchmark1(b *testing.B) {
	res := []int{}
	res2 := []int{}
	for n := 0; n < b.N; n++ {
		res = bestLine([][]int{{-24272, -29606}, {-37644, -4251}, {2691, -22513}, {-14592, -33765}, {-21858, 28550}, {-22264, 41303}, {-6960, 12785}, {-39133, -41833}, {25151, -26643}, {-19416, 28550}, {-17420, 22270}, {-8793, 16457}, {-4303, -25680}, {-14405, 26607}, {-49083, -26336}, {22629, 20544}, {-23939, -25038}, {-40441, -26962}, {-29484, -30503}, {-32927, -18287}, {-13312, -22513}, {15026, 12965}, {-16361, -23282}, {7296, -15750}, {-11690, -21723}, {-34850, -25928}, {-14933, -16169}, {23459, -9358}, {-45719, -13202}, {-26868, 28550}, {4627, 16457}, {-7296, -27760}, {-32230, 8174}, {-28233, -8627}, {-26520, 28550}, {5515, -26001}, {-16766, 28550}, {21888, -3740}, {1251, 28550}, {15333, -26322}, {-27677, -19790}, {20311, 7075}, {-10751, 16457}, {-47762, -44638}, {20991, 24942}, {-19056, -11105}, {-26639, 28550}, {-19862, 16457}, {-27506, -4251}, {-20172, -5440}, {-33757, -24717}, {-9411, -17379}, {12493, 29906}, {0, -21755}, {-36885, -16192}, {-38195, -40088}, {-40079, 7667}, {-29294, -34032}, {-55968, 23947}, {-22724, -22513}, {20362, -11530}, {-11817, -23957}, {-33742, 5259}, {-10350, -4251}, {-11690, -22513}, {-20241, -22513}})
		res2 = bestLine([][]int{{-13260, 8589}, {1350, 8721}, {-37222, -19547}, {-54293, -29302}, {-10489, -13241}, {-19382, 574}, {5561, 1033}, {-22508, -13241}, {-1542, 20695}, {9277, 2820}, {-32081, 16145}, {-50902, 23701}, {-8636, 19504}, {-17042, -28765}, {-27132, -24156}, {-48323, -4607}, {30279, 29922}})
	}
	b.Logf("res = %v, %v", res, res2)
}
